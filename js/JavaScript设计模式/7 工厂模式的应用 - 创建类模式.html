<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>7 工厂模式的应用 - 创建类模式</title>
</head>
<body>
<form id="create">
	<div>
		姓名：
		<input type="text" name="name">
	</div>
	<div>
		专业：
		<select name="type">
			<option value="文科">文科</option>
			<option value="理科">理科</option>
			<option value="体育">体育</option>
		</select>
	</div>
	<button type="submit">创建学生</button>
</form>
<script type="text/javascript">
	init();
	function init(){
		var form = document.getElementById('create');
		form.addEventListener('submit', function(e){
			e.preventDefault();
			var name = document.querySelector('[name=name]').value;
			var type = document.querySelector('[name=type]').value;
			
			var student = factory(name, type);
			form.reset();  //重置表单为初始状态
			console.log('student:', student);
		});
	}

	function Student(name, science){
		this.name = name;
		this.science = science;
	}

	function factory(name, type){
		switch(type){
			case "文科":
				return new Student(name, ['政治', '历史', '地理']);
				break;
			case "理科":
				return new Student(name, ['数学', '物理', '化学']);
				break;
			case "体育":
				return new Student(name, ['长跑', '短跑', '接力跑', '...']);
				break;
		}
	}

</script>
</body>
</html>
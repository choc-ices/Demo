<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>AJAX请求XML格式的数据</title>
</head>
<body>
<script>
	//如果希望服务端返回一个复杂数据，该如何处理？
	////关心的问题就是服务端发出何种格式的数据，这种格式如何在客户端用JavaScript解析。
	//不管服务端是采用XML还是采用JSON，本质上都是将数据返回给客户端。
	var xhr = new XMLHttpRequest();
	xhr.open('GET','xml.php');
	xhr.send();
	xhr.onreadystatechange = function(){
		if(this.readyState !==4 ) return;
		// this.responseXML专门用于获取服务端返回的XML数据，操作方式就是通过DOM的方式操作
		// 但是需要服务端响应头的 Content-Type 必须是 application/xml
		console.log(this.responseXML.documentElement.children[0].innerHTML);  //小五
		console.log(this.responseXML.documentElement.getElementsByTagName('name')[0].innerHTML);  //小五
	}


    //处理响应数据渲染
    //模板引擎：artTemplate:https://aui.github.io/art-template/zh-cn/docs
    //模板引擎实际上就是一个API,模板引擎有很多种，使用方法大同小异，目的是为了可以更容易的将数据渲染到HTML中。


    //兼容方案（XMLHttpRequest在IE5/6有兼容问题）
    var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');  //(面试的时候把兼容方案加上)
</script>
</body>
</html>